<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org" xmlns:form="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-security5">
<head>
    <meta charset="UTF-8">
    <title>Account Management System</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

</head>
<body>

<div class="container h-100">
                <div class="row h-100 justify-content-center align-items-center">
                        <form method="POST" th:object="${account}" th:action="@{/user/update}">
                                <h2 class="form-signin-heading">Please update your account</h2>
                                <span>NOTE: You will need to log in again after updating.</span>
                                <br><br>
                                <p th:if="${errorMessage}"  th:text="${errorMessage}" style="color: red">Error</p>
                                <div class="form-group">
                                    <label for="firstName">First Name:</label>
                                    <input class="form-control" type="text" th:field="*{firstName}" id="firstName" required>
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Last Name:</label>
                                    <input class="form-control" type="text" th:field="${account.lastName}" id="lastName" required>
                                </div>
                                <div class="form-group">
                                    <label for="accAddress">Address:</label>
                                    <input class="form-control" type="text" th:field="${account.accAddress}" id="accAddress" required>
                                </div>
                                <div class="form-group">
                                    <label for="phone">Phone Number:</label>
                                    <input class="form-control" type="text" th:field="${account.phone}" id="phone" pattern="(0?)(3[2-9]|5[6|8|9]|7[0|6-9]|8[0-6|8|9]|9[0-4|6-9])[0-9]{7}" title="Please enter a valid Vietnamese phone number" required>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email:</label>
                                    <input class="form-control" type="text" th:field="*{email}" id="email" pattern="^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$" title="Please enter a valid email" required>
                                </div>
                            <button type="submit" class="btn btn-lg btn-primary btn-block">Update Info</button><br/><br/><br/>

                        </form>
                </div>
                <hr>
    <div class="row h-100 justify-content-center align-items-center">
        <span style="color:red">BEWARE: DO NOT click Update Password without deleting current input value and replacing with new password</span>
    </div>

    <div class="row h-100 justify-content-center align-items-center">
                    <form method="POST" th:object="${account}" th:action="@{/user/update/password}">
                        <h2 class="form-signin-heading">Change Password</h2>
                        <span>NOTE: You will need to log in again after updating.</span>

                        <div class="form-group">
                            <!--                                        <input class="form-control" type="text" th:field="*{password}" id="password"> <span>Don't worry, your current password is just encrypted. That's all!</span>-->
                            <input class="form-control" type="text" th:name="password" th:value="*{password}" id="password" required>
                        </div>
                        <button type="submit" class="btn btn-lg btn-primary btn-block">Update Password</button><br/><br/><br/>
                    </form>
                </div>
                <hr>
    <div class="row h-100 justify-content-center align-items-center">
        <h2 class="form-signin-heading">Terminate account</h2><br>
    </div>

    <div class="row h-100 justify-content-center align-items-center">
                    <form method="POST" th:action="@{/user/delete}">
                                <button type="submit" class="btn btn-lg btn-primary btn-block" style="background-color: red">Delete Account</button>
                        </form>
                </div>
                <div class="row h-100 justify-content-center align-items-center">
                        <span style="color:red">BEWARE: Your account will be deleted from our database!</span>
                </div>
    </div>
</body>
</html>